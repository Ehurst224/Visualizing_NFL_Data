(this.webpackJsonp=this.webpackJsonp||[]).push([[268,484],{123:function(t,e,i){i("HVBj"),i("gjpc"),t.exports=i("FqW7")},"99pJ":function(t,e,i){t.exports=i("NFDe")},FqW7:function(t,e,i){"use strict";i.r(e);var n=i("ewH8"),s=i("GiFX"),o=i("ND+z"),a=i("1cpz"),r=i("30su"),c=i("4lAS"),l=i("MV2A"),u=i("06tH"),h=i.n(u),d=i("/lV4");const p=i("ygVz").a.mixin();var g={beginnerLink:"https://about.gitlab.com/blog/2018/01/22/a-beginners-guide-to-continuous-integration/",goToTrackValuePipelines:10,goToTrackValueMergeRequest:20,trackEvent:"click_button",components:{GlModal:a.a,GlSprintf:r.a,GlButton:c.a,GlLink:l.a},mixins:[p],props:{goToPipelinesPath:{type:String,required:!0},projectMergeRequestsPath:{type:String,required:!1,default:""},commitCookie:{type:String,required:!0},humanAccess:{type:String,required:!0},exampleLink:{type:String,required:!0},codeQualityLink:{type:String,required:!0}},data:()=>({trackLabel:"congratulate_first_pipeline"}),computed:{tracking(){return{label:this.trackLabel,property:this.humanAccess}},goToMergeRequestPath(){return this.commitCookiePath||this.projectMergeRequestsPath},commitCookiePath(){const t=h.a.get(this.commitCookie);return"true"!==t?t:""}},i18n:{modalTitle:Object(d.a)("That's it, well done!"),pipelinesButton:Object(d.f)("MR widget|See your pipeline in action"),mergeRequestButton:Object(d.f)("MR widget|Back to the Merge request"),bodyMessage:Object(d.f)("MR widget|The pipeline will test your code on every commit. A %{codeQualityLinkStart}code quality report%{codeQualityLinkEnd} will appear in your merge requests to warn you about potential code degradations."),helpMessage:Object(d.f)("MR widget|Take a look at our %{beginnerLinkStart}Beginner's Guide to Continuous Integration%{beginnerLinkEnd} and our %{exampleLinkStart}examples of GitLab CI/CD%{exampleLinkEnd} to learn more.")},mounted(){this.track(),this.disableModalFromRenderingAgain()},methods:{disableModalFromRenderingAgain(){h.a.remove(this.commitCookie)}}},f=i("tBpV"),m=Object(f.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("gl-modal",{attrs:{visible:"",size:"sm","modal-id":"success-pipeline-modal-id-not-used"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n    "+t._s(t.$options.i18n.modalTitle)+"\n    "),i("gl-emoji",{staticClass:"gl-vertical-align-baseline font-size-inherit gl-mr-1",attrs:{"data-name":"tada"}})]},proxy:!0},{key:"modal-footer",fn:function(){return[t.projectMergeRequestsPath?i("gl-button",{ref:"goToMergeRequest",attrs:{href:t.goToMergeRequestPath,"data-track-property":t.humanAccess,"data-track-value":t.$options.goToTrackValueMergeRequest,"data-track-action":t.$options.trackEvent,"data-track-label":t.trackLabel}},[t._v("\n      "+t._s(t.$options.i18n.mergeRequestButton)+"\n    ")]):t._e(),t._v(" "),i("gl-button",{ref:"goToPipelines",attrs:{href:t.goToPipelinesPath,variant:"success","data-track-property":t.humanAccess,"data-track-value":t.$options.goToTrackValuePipelines,"data-track-action":t.$options.trackEvent,"data-track-label":t.trackLabel}},[t._v("\n      "+t._s(t.$options.i18n.pipelinesButton)+"\n    ")])]},proxy:!0}])},[t._v(" "),i("p",[i("gl-sprintf",{attrs:{message:t.$options.i18n.bodyMessage},scopedSlots:t._u([{key:"codeQualityLink",fn:function(e){var n=e.content;return[i("gl-link",{staticClass:"font-size-inherit",attrs:{href:t.codeQualityLink,target:"_blank"}},[t._v(t._s(n))])]}}])})],1),t._v(" "),i("gl-sprintf",{attrs:{message:t.$options.i18n.helpMessage},scopedSlots:t._u([{key:"beginnerLink",fn:function(e){var n=e.content;return[i("gl-link",{attrs:{href:t.$options.beginnerLink,target:"_blank"}},[t._v("\n        "+t._s(n)+"\n      ")])]}},{key:"exampleLink",fn:function(e){var n=e.content;return[i("gl-link",{attrs:{href:t.exampleLink,target:"_blank"}},[t._v("\n        "+t._s(n)+"\n      ")])]}}])})],1)}),[],!1,null,null,null).exports,b=i("MA/v"),k=i("cE/5"),_=i("5v28"),v=i("YiZF"),T=i("m4yQ"),E=i("ydqu"),O=i("kYRv");i("ILhG");n.default.use(s.default);const S=new s.default({defaultClient:Object(_.default)()}),y=document.querySelector("#js-view-blob-app");if(y){const{blobPath:t,projectPath:e,targetBranch:i,originalBranch:s}=y.dataset;new n.default({el:y,apolloProvider:S,provide:{targetBranch:i,originalBranch:s},render:i=>i(O.a,{props:{path:t,projectPath:e}})}),Object(b.c)()}else new b.a,Object(v.a)();const L=document.querySelector(".js-commit-pipeline-status"),C=document.querySelector(".commit-actions .ci-status-link");C&&(C.remove(),new n.default({el:L,components:{commitPipelineStatus:E.a},render:t=>t("commit-pipeline-status",{props:{endpoint:L.dataset.endpoint}})})),Object(T.default)({el:document.getElementById("js-blob-web-ide-link")}),k.a.fetch();const R=document.getElementById("js-code-navigation");if(R){const{codeNavigationPath:t,blobPath:e,definitionPathPrefix:n}=R.dataset;Promise.all([i.e(74),i.e(465)]).then(i.bind(null,"uOOt")).then((function(i){return i.default({blobs:[{path:e,codeNavigationPath:t}],definitionPathPrefix:n})}))}const j=document.querySelector(".js-success-pipeline-modal");j&&new n.default({el:j,render:t=>t(m,{props:{...j.dataset}})});const P=document.querySelector(".js-table-contents");P&&new n.default({el:P,render:t=>t(o.a)})},ILhG:function(t,e,i){"use strict";var n=i("U5ZW");Object(n.a)()},NFDe:function(t,e,i){!function(e){"use strict";var n=-1,s=function(t){return t.every=function(e,i,s){t._time(),s||(s=i,i=null);var o=n+=1;return t._timers[o]={visible:e,hidden:i,callback:s},t._run(o,!1),t.isSupported()&&t._listen(),o},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(i,n){var s,o=t._timers[i];if(t.hidden()){if(null===o.hidden)return;s=o.hidden}else s=o.visible;var a=function(){o.last=new Date,o.callback.call(e)};if(n){var r=new Date-o.last;s>r?o.delay=setTimeout((function(){o.id=setInterval(a,s),a()}),s-r):(o.id=setInterval(a,s),a())}else o.id=setInterval(a,s)},t._stop=function(e){var i=t._timers[e];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},t._stopRun=function(e){var i=t.hidden(),n=t._wasHidden;if(i&&!n||!i&&n)for(var s in t._timers)t._stop(s),t._run(s,!i)},t};t.exports?t.exports=s(i("lNHW")):s(e.Visibility)}(window)},QwBj:function(t,e,i){"use strict";i.d(e,"b",(function(){return s}));const n={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},s=[n.OK,n.CREATED,n.ACCEPTED,n.NON_AUTHORITATIVE_INFORMATION,n.NO_CONTENT,n.RESET_CONTENT,n.PARTIAL_CONTENT,n.MULTI_STATUS,n.ALREADY_REPORTED,n.IM_USED];e.a=n},SNRI:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return u}));var n=i("/lV4"),s=i("GuZl");function o(t){return t/(s.f*s.f)}function a(t){return t/(s.f*s.f*s.f)}function r(t,e=2){const i=Math.abs(t);return i<s.f?Object(n.g)(Object(n.a)("%{size} bytes"),{size:t}):i<s.f**2?Object(n.g)(Object(n.a)("%{size} KiB"),{size:(r=t,r/s.f).toFixed(e)}):i<s.f**3?Object(n.g)(Object(n.a)("%{size} MiB"),{size:o(t).toFixed(e)}):Object(n.g)(Object(n.a)("%{size} GiB"),{size:a(t).toFixed(e)});var r}const c=function(t,e){return t===e?0:Math.round((e-t)/Math.abs(t)*100)},l=/^[0-9]+$/,u=function(t){return l.test(t)}},Tctl:function(t,e,i){"use strict";var n=i("EmJ/"),s=i.n(n);const o={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]};e.a=class{constructor(t){this.elementMap={...o,...t},this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}init(){return this.bindEvents(),this}bindEvents(){s()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),s()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}showSuggestionSection(t,e="edit"){s()(this.elementMap.suggestionSections).removeClass("hidden"),s()(this.elementMap.forkButtons).attr("href",t),s()(this.elementMap.actionTextPieces).text(e)}hideSuggestionSection(){s()(this.elementMap.suggestionSections).addClass("hidden")}onOpenButtonClick(t){const e=s()(t.currentTarget).attr("data-fork-path"),i=s()(t.currentTarget).attr("data-action");this.showSuggestionSection(e,i)}onCancelButtonClick(){this.hideSuggestionSection()}destroy(){s()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),s()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}},U5ZW:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("pETN");function n(){const{url:t}=gon.sourcegraph||{};if(!t)return;const e=new URL("/assets/webpack/sourcegraph/0.0.60/",window.location.href),i=new URL("scripts/integration.bundle.js",e).href;window.SOURCEGRAPH_ASSETS_URL=e.href,window.SOURCEGRAPH_URL=t,window.SOURCEGRAPH_INTEGRATION="gitlab-integration",function(t){const e=document.createElement("script");e.type="application/javascript",e.src=t,e.defer=!0,document.head.appendChild(e)}(i)}},YiZF:function(t,e,i){"use strict";var n=i("t6Yz"),s=i.n(n),o=i("d08M"),a=i("3twG"),r=i("jHQk"),c=i("v+Mp");const l={skipResetBindings:!1,fileBlobPermalinkUrl:null,fileBlobPermalinkUrlElement:null};class u extends c.default{constructor(t){const e={...l,...t};super(e.skipResetBindings),this.options=e,this.shortcircuitPermalinkButton(),s.a.bind(Object(o.ob)(o.Y),this.moveToFilePermalink.bind(this))}moveToFilePermalink(){const t=this.options.fileBlobPermalinkUrl;if(t){const e=Object(a.i)(),i=e?`#${e}`:"";Object(a.J)(t)&&Object(a.H)({url:`${t}${i}`,title:document.title}),Object(a.I)({url:t})&&Object(r.b)(Object(a.m)({url:t}))}}shortcircuitPermalinkButton(){var t=this;const e=this.options.fileBlobPermalinkUrlElement,i=function(e){var i;(i=e).ctrlKey||i.metaKey||i.shiftKey||(e.preventDefault(),t.moveToFilePermalink())};e&&e.addEventListener("click",i)}}var h=i("CX32"),d=i("Tctl");const p=/^L[0-9]+/,g=function(t){const e=Object(a.i)();if(e&&p.test(e)){const i=`#${e}`;[].concat(Array.prototype.slice.call(t)).forEach((function(t){const e=t.getAttribute("data-original-href")||function(){const e=t.getAttribute("href");return t.setAttribute("data-original-href",e),e}();t.setAttribute("href",`${e}${i}`)}))}};var f=function(t,e,i){const n=function(){setTimeout((function(){g(i)}),0)};t.addEventListener("click",(function(t){t.target.matches(e)&&n()})),n()},m=i("5p5H"),b=i("EmJ/"),k=i.n(b),_=i("NmEs");const v=function(t={}){t.highlightLineClass=t.highlightLineClass||"hll",t.fileHolderSelector=t.fileHolderSelector||".file-holder",t.scrollFileHolder=t.scrollFileHolder||!1,t.hash=t.hash||window.location.hash,this.options=t,this._hash=t.hash,this.highlightLineClass=t.highlightLineClass,this.setHash=this.setHash.bind(this),this.highlightLine=this.highlightLine.bind(this),this.clickHandler=this.clickHandler.bind(this),this.highlightHash=this.highlightHash.bind(this),this.bindEvents(),this.highlightHash()};v.prototype.bindEvents=function(){var t=this;const e=k()(this.options.fileHolderSelector);e.on("click","a[data-line-number]",this.clickHandler),e.on("highlight:line",this.highlightHash),window.addEventListener("hashchange",(function(e){return t.highlightHash(e.target.location.hash)}))},v.prototype.highlightHash=function(t){let e;if(t&&"string"==typeof t&&(this._hash=t),this.clearHighlight(),""!==this._hash&&(e=this.hashToRange(this._hash))[0]){this.highlightRange(e);const t=`#L${e[0]}`;Object(_.K)(t,{offset:-100})}},v.prototype.clickHandler=function(t){let e;t.preventDefault(),this.clearHighlight();const i=k()(t.target).closest("a").data("lineNumber"),n=this.hashToRange(this._hash);return n[0]&&t.shiftKey?t.shiftKey?(e=i<n[0]?[i,n[0]]:[n[0],i],this.setHash(e[0],e[1]),this.highlightRange(e)):void 0:(this.setHash(i),this.highlightLine(i))},v.prototype.clearHighlight=function(){return k()(`.${this.highlightLineClass}`).removeClass(this.highlightLineClass)},v.prototype.hashToRange=function(t){const e=t.match(/^#?L(\d+)(?:-L?(\d+))?$/);if(e&&e.length){return[parseInt(e[1],10),e[2]?parseInt(e[2],10):null]}return[null,null]},v.prototype.highlightLine=function(t){return k()(`#LC${t}`).addClass(this.highlightLineClass)},v.prototype.highlightRange=function(t){if(t[1]){const e=[],i=t[0]<=t[1]?t:t.reverse();for(let n=t[0];n<=i[1];n+=1)e.push(this.highlightLine(n));return e}return this.highlightLine(t[0])},v.prototype.setHash=function(t,e){let i;return i=e?`#L${t}-${e}`:`#L${t}`,this._hash=i,this.__setLocationHash__(i)},v.prototype.__setLocationHash__=function(t){return window.history.pushState({url:t},document.title,t)};var T=v;e.a=function(){new T,new f(document.querySelector("#blob-content-holder"),".diff-line-num[data-line-number], .diff-line-num[data-line-number] *",document.querySelectorAll(".js-data-file-blob-permalink-url, .js-blob-blame-link"));const t=document.querySelector(".js-data-file-blob-permalink-url"),e=t&&t.getAttribute("href");new h.a,new u({skipResetBindings:!0,fileBlobPermalinkUrl:e,fileBlobPermalinkUrlElement:t}),new d.a({openButtons:document.querySelectorAll(".js-edit-blob-link-fork-toggler"),forkButtons:document.querySelectorAll(".js-fork-suggestion-button"),cancelButtons:document.querySelectorAll(".js-cancel-fork-suggestion-button"),suggestionSections:document.querySelectorAll(".js-file-fork-suggestion-section"),actionTextPieces:document.querySelectorAll(".js-file-fork-suggestion-section-action")}).init(),Object(m.a)()}},"cE/5":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("EmJ/"),s=i.n(n),o=i("XRO8"),a=i("2ibD"),r=i("3twG"),c=i("/lV4");class l{static fetch(){const t=s()(".js-signature-container");if(0===t.length)return Promise.resolve();const e=s()(".js-loading-gpg-badge");e.html('<span class="gl-spinner gl-spinner-orange gl-spinner-sm"></span>'),e.children().attr("aria-label",Object(c.a)("Loading"));const i=function(){return Object(o.c)({message:Object(c.a)("An error occurred while loading commit signatures")})},n=t.data("signaturesPath");if(!n)return i(),Promise.reject(new Error(Object(c.a)("Missing commit signatures endpoint!")));const l=Object(r.z)(t.serialize());return a.a.get(n,{params:l}).then((function({data:t}){t.signatures.forEach((function(t){e.filter(`[data-commit-sha="${t.commit_sha}"]`).replaceWith(t.html)}))})).catch(i)}}},hqF9:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("NmEs"),s=i("QwBj");class o{constructor(t={}){this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(t){var e=this;const i=Object(n.C)(t.headers),o=parseInt(i[this.intervalHeader],10);o>0&&-1!==s.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.makeRequest()}),o)),this.options.successCallback(t)}makeDelayedRequest(t=0){var e=this;this.timeoutID=setTimeout((function(){return e.makeRequest()}),t)}makeRequest(){var t=this;const{resource:e,method:i,data:n,errorCallback:o,notificationCallback:a}=this.options;return a(!0),e[i](n).then((function(e){t.checkConditions(e),a(!1)})).catch((function(t){a(!1),t.status!==s.a.ABORTED&&o(t)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,t&&t.response&&this.checkConditions(t.response)}restart(t){this.enable(t),this.makeRequest()}}},lNHW:function(t,e,i){!function(e){"use strict";var i=-1,n={onVisible:function(t){var e=n.isSupported();if(!e||!n.hidden())return t(),e;var i=n.change((function(e,s){n.hidden()||(n.unbind(i),t())}));return i},change:function(t){if(!n.isSupported())return!1;var e=i+=1;return n._callbacks[e]=t,n._listen(),e},unbind:function(t){delete n._callbacks[t]},afterPrerendering:function(t){var e=n.isSupported();if(!e||"prerender"!=n.state())return t(),e;var i=n.change((function(e,s){"prerender"!=s&&(n.unbind(i),t())}));return i},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(t){var e=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,t,e)},_listen:function(){if(!n._init){var t="visibilitychange";n._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(t,e):n._doc.attachEvent(t,e),n._init=!0}}};t.exports?t.exports=n:e.Visibility=n}(this)},ydqu:function(t,e,i){"use strict";var n=i("LLbv"),s=i("FkSe"),o=i("99pJ"),a=i.n(o),r=i("XRO8"),c=i("hqF9"),l=i("/lV4"),u=i("8zNS"),h=i("2ibD");class d{constructor(t){this.endpoint=t}fetchData(){return h.a.get(this.endpoint)}}var p={directives:{GlTooltip:n.a},components:{ciIcon:u.a,GlLoadingIcon:s.a},props:{endpoint:{type:String,required:!0}},data:()=>({ciStatus:{},isLoading:!0}),computed:{statusTitle(){return Object(l.g)(Object(l.f)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.ciStatus.text})}},mounted(){this.service=new d(this.endpoint),this.initPolling()},beforeDestroy(){this.poll.stop()},methods:{successCallback(t){const{pipelines:e}=t.data;e.length>0&&(this.ciStatus=e[0].details.status),this.isLoading=!1},errorCallback(){this.ciStatus={text:Object(l.a)("not found"),icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(r.c)({message:Object(l.a)("Something went wrong on our end")})},initPolling(){var t=this;this.poll=new c.a({resource:this.service,method:"fetchData",successCallback:function(e){return t.successCallback(e)},errorCallback:this.errorCallback}),a.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),a.a.change((function(){a.a.hidden()?t.poll.stop():t.poll.restart()}))},fetchPipelineCommitData(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}}},g=i("tBpV"),f=Object(g.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ci-status-link"},[this.isLoading?e("gl-loading-icon",{attrs:{size:"lg",label:"Loading pipeline status"}}):e("a",{attrs:{href:this.ciStatus.details_path}},[e("ci-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.statusTitle,"aria-label":this.statusTitle,status:this.ciStatus,size:24,"data-container":"body"}})],1)],1)}),[],!1,null,null,null);e.a=f.exports}},[[123,1,0,2,3,4,5,6,7,38,49,67]]]);
//# sourceMappingURL=pages.projects.blob.show.fe72c926.chunk.js.map